---
title: "target"
author: "Jordi"
date: "11/28/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
setwd(".")
```

### Load the data

```{r}
data = read.csv("data/conversion.csv")
```

### Set the target variable

```{r}
drugs = c("ARa", "ARb", "HK", "NL", "SW", "T44a", "T44b", "FFb", "B52", "PM", "BB", "BS", "FFa", "HMW", "HA", "SWA", "MS", "RI")
N = 1324
data$drug = rep(-1, N)
for (name in drugs) {
  s = grepl(pattern=name, data$ID, fixed=T)
  data$drug[s] = 1
}
data$drug = as.factor(data$drug)
```

```{r}
head(data)
```


### Write the data

```{r}
write.csv(data, "data/cannabis_gen.csv", row.names = F)
```

```{r}
X = data[2:174]
head(X)
```

```{r}
write.table(X, "data/matrix.csv", row.names = F, col.names = F, sep = ",")
```

